{% extends "bootstrap/base.html" %}

{% block title %}
{% if title %}
Flask Journal — {{title}}
{% else %}
Flask Journal
{% endif %}
{% endblock %}

{%- block styles %}
	<!-- Bootstrap -->
	<link href="{{bootstrap_find_resource('css/bootstrap.css', cdn='bootstrap')}}" rel="stylesheet">
	<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='main.css')}}">
{%- endblock styles %}

{% block content %}
<header class="container">
	{% if h1 %}
	<h1>{{h1}}</h1>
	{% else %}
	<h1>FJ: {{title}}</h1>
	{% endif %}

	<nav class="navbar navbar-expand-md navbar-dark bg-steel fixed-top">
		<div class="container">
			<a class="navbar-brand mr-4" href="{{ url_for('home') }}">Flask Journal</a>
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="navbarToggle">
				<span class="navbar-toggler-icon">↓</span>
			</button>
			<div class="collapse navbar-collapse collapse" id="navbarToggle">
				<div class="navbar-nav mr-auto">
					<a href="{{ url_for('home') }}" class="nav-item nav-link">Home</a>
					<a href="{{ url_for('about') }}" class="nav-item nav-link">About</a>
				</div>
				<!-- Navbar right side -->
				<div class="navbar-nav">
					{% if current_user.is_authenticated %}
						<a href="{{ url_for('profile') }}" class="nav-item nav-link">Profile</a>
						<a href="{{ url_for('logout') }}" class="nav-item nav-link">Log out</a>
					{% else %}
						<a href="{{ url_for('login') }}" class="nav-item nav-link">Log in</a>
						<a href="{{ url_for('register') }}" class="nav-item nav-link">Register</a>
					{% endif %}
				</div>
			</div>
		</div>
	</nav>
</header>
<main role="main" class="container">
	<div class="row">
		<div class="col-md-8">
			{% with messages = get_flashed_messages(with_categories=true) %}
				{% if messages %}
					{% for category, message in messages %}
						<div class="alert alert-{{ category }}">
							{{ message }}
						</div>
					{% endfor %}
				{% endif %}
			{% endwith %}

			{% block maincontent %}{% endblock %}
		</div>
		<div class="col-md-4">
			<div class="content-section">
				<h3>Our Sidebar</h3>
				<p class="text-muted">You can put any info here you'd like</p>
				<ul>
					<li>Latest posts</li>
					<li>Announcements</li>
					<li>Calendars</li>
					<li>etc.</li>
				</ul>
			</div>
		</div>
	</div>
</main>
{% endblock %}